<!doctype html>
<html lang="en" ng-app="demoApp">

	<head>
		<meta charset="utf-8">

		<title>Symfony & AngularJS</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Iwan van Staveren">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/serif.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">

              <section><h1><img src="http://symfony.com/images/common/logo/logo_symfony_header.png" style="border: 0.0px;color: rgb(0,0,0);letter-spacing: -0.02em;" /></h1><h1>&amp;</h1>
                  <h1><img src="http://angularjs.org/img/AngularJS-large.png" style="height: 108.0px;border: 0.0px;vertical-align: middle;width: 383.0px;" /></h1>
                  
                  <p><br /></p><p><br /></p><p>26 maart 2013</p><p>Iwan van Staveren</p>
              </section>
              <section><h2>Agenda</h2><div><br /></div><div><ul><li>Wie ben ik</li><li>Wat is Symfony</li><li>Wat is AngularJS</li><li>Waarom handig?</li><li>Hoe beide te gebruiken</li><li>Twig</li><li>FosRestBundle</li><li>Vragen</li></ul></div><div><br /></div><div><br /></div></section>
              <section><h2>Wie ben ik?</h2>&#10;<div>&#10;    <br />&#10;</div>&#10;<div>Iwan van Staveren</div>&#10;<div>&#10;    <br />&#10;</div>&#10;<div>Software architect bij Oracle</div>&#10;<div>13 jaar ervaring met PHP</div>&#10;<div>7 jaar ervaring met Symfony</div>&#10;<div>&#10;    <br />&#10;</div>&#10;<div>&#10;&#10;
                  <img height="33" src="http://www.linkedin.com/img/webpromo/btn_viewmy_120x33.png" width="120" /><a href="nl.linkedin.com/in/iwanvanstaveren" class="roll">
                      <span data-title="nl.linkedin.com/in/iwanvanstaveren">nl.linkedin.com/in/iwanvanstaveren</span></a><br /></div>
                <div><font face="arial">Twitter: @istaveren</font></div>&#10;<div>&#10;    <br />&#10;</div>&#10;&#10;&#10;&#10;&#10;</section>
              <section><h2>Wat is <img src="http://symfony.com/images/common/logo/logo_symfony_header.png" style="border: 0.0px;color: rgb(0,0,0);letter-spacing: -0.02em;" />?</h2><div><br /></div><div>Dat weten we hier wel :-)</div><div><br /></div><div>Volgens <a href="http://symfony.com">symfony.com</a></div><div><br /></div><div><div>Symfony is a PHP Web Development Framework.&nbsp;</div><div>That doesn&rsquo;t answer your question?&nbsp;</div><div>Ok, let&rsquo;s try that again.&nbsp;</div><div>Symfony is a PHP Framework, a Philosophy, and a Community - all working together in harmony.</div></div>&#10;</section>
              <section>
                <h2>Wat is <a href="http://angularjs.org/">AngularJS</a><br /></h2><div>Een open-source Javascript framework</div><div><br /></div><div>Of zo als ze het zelf zeggen:</div><div><div style="color: rgb(51,51,51);font-size: 13.0px;font-style: normal;font-variant: normal;line-height: 18.0px;"><br /></div><div style="color: rgb(51,51,51);font-size: 13.0px;font-style: normal;font-variant: normal;line-height: 18.0px;"><img src="http://angularjs.org/img/AngularJS-large.png" style="height: 108.0px;border: 0.0px;vertical-align: middle;width: 383.0px;" /></div><div style="color: rgb(51,51,51);font-size: 13.0px;font-style: normal;font-variant: normal;line-height: 18.0px;"><h1 style="margin-bottom: 0.0px;color: rgb(83,83,83);font-size: 30.0px;line-height: 1;letter-spacing: -1.0px;padding-top: 1.5em;padding-bottom: 1.0em;">HTML enhanced for web apps!</h1><div><br /></div><div><br /></div><div><br /></div></div></div>
              </section>
                <!-- MVC -->
                <section>
                    <section>
                        <h1>MVC</h1>
                        <h3>Models / Views / Controllers</h3>
                    </section>

                    <section>
                        <h2>Resources</h2>
                        <pre><code contenteditable>

        var User = $resource('/api/users/', {id: '@objectId'});

                        </code></pre>

                        <pre><code contenteditable>
// Default methods
{ 
    'get':    {method:'GET'},
    'save':   {method:'POST'},
    'query':  {method:'GET', isArray:true},
    'remove': {method:'DELETE'},
    'delete': {method:'DELETE'} 
};</code></pre>
                        <p><i>... en nog veel meer!</i></p>
                    </section>

                    <section>
                        <h2>Resources</h2>
                        <pre><code contenteditable>

...
User.prototype.isHacker = function() { return this.is_hacker; }
User.prototype.hackStuff = function(p) { this.current = p; }
...

                        </code></pre>
                    </section>


                    <section>
                        <h2>HTML</h2>
                        <pre><code contenteditable>
&lt;div ng-controller="ItemsController"&gt;
    &lt;p&gt;Total items: &lt;input ng-model="items" type="number" /&gt;&lt/p&gt;
    &lt;ul&gt;
        &lt;li&gt;Total items {{ items }} &lt;/li&gt;
        &lt;li&gt;Total added {{ addTwo(items) }} &lt;/li&gt;
    &lt;/ul&gt;
&lt;div&gt;</code></pre>
                        <p>Templates in HTML, niet in Javascript!</p>
                  </section>
                  <section>
                    <h2>Controllers</h2>
                    <pre><code contenteditable>
function ItemController($scope)
{
  $scope.items = 2;

  $scope.addTwo = function(input) {
    return input + 2;
  }
}</code>
                    </pre>
                    <div><h2>Demo</h2>
                          <script>
                          
                          function ItemController($scope)
                          {
                            $scope.items = 2;
                            
                            $scope.addTwo = function(input) {
                              return input + 2;
                            }
                          }
                        </script>
                          
                        <form ng-controller="ItemController">
                          <div>
                            <p>Items <input ng-model="items" type="number" /></p>
                            <ul>
                              <li>Total items <[ items ]></li>
                              <li>Items added <[ addTwo(items) ]></li>
                            </ul>
                          </div>
                        </form>
                        </div>
                    </section>

                </section>

                <!-- Basic stucture -->
                <section>
                    <section>
                        <h2>Hoe te beginnnen</h2>
                        <pre><code contenteditable>

    &lt;html ng-app="HackerApp"&gt;
        ...
        &lt;div ng-controller="AwesomeHackerCtrl"&gt;...&lt;/div&gt;
        &lt;div ng-controller="SuperHackerCtrl"&gt;...&lt;/div&gt;
    &lt;/html&gt;


                        </code></pre>
                        <p>Angular heeft zijn eigen scope in javascript en de DOM</p>
                    </section>

                    <section>
                        <h2>ng-app</h2>
                        <pre><code contenteditable>

var DemoAppModule = angular.module('DemoApp', ['models']).
                config(function($interpolateProvider) {
        $interpolateProvider.startSymbol('&lt;[');
        $interpolateProvider.endSymbol('&gt;');
    });

                        </code></pre>
                        <p>Config &amp; setup</p>
                    </section>

                    <section>
                        <h2>ng-controller</h2>
                        <pre><code contenteditable>

    // DemoData controller
    function DemoDataCtrl($window, $rootScope, $scope, $http, User) {

        $scope.users = User.query(function(data) {
            // Validate each User
        });

        $scope.validateUser = function(h) {
            // Determine if valid user
        };
    }

                        </code></pre>
                        <p>Scoped local methods</p>
                    </section>

                    <section>
                        <h2>Services</h2>

                        <pre><code contenteditable>

    angular.module('models', ['ngResource', 'ngCookies']).
    factory('Hacker', function($resource) {

        var Hacker = $resource("/api/hacker/:id", {id: "@id"})

        // Add class methods
        Hacker.login = function(data, success, error) {
            $http.post('/api/login/', data).
                success(success).
                error(error);
        });

                        </code></pre>
                    </section>

                    <section>
                        <h2>Directives</h2>
                        
                        <div>
                          <p>Pas de HTML aan zo als jij dat wilt. Mis je een &lt;tab&gt; 
                            tag in HTML dan kan je hem hiermee maken.</p>
                          
                          <p>Eigenlijk een MVC in een tag.</p>
                        </div>
                    </section>
                    <section>
                        <h2>Testen</h2>
                        
                        <div>
                          <p>Dat zit er bij net als bij Symfony.</p>
                          <p>Heet Karma en werkt als unit testen.</p>
                          
                          <pre><code contenteditable>
Starting Testacular Server (http://vojtajina.github.com/testacular)
-------------------------------------------------------------------
info: Testacular server started at http://localhost:9876/
info (launcher): Starting browser Chrome
info (Chrome 25.0): Connected on socket id TszbEIbJKa9gxm647LC3
Chrome 25.0: Executed 10 of 10 SUCCESS (0.435 secs / 0.1 secs)
</code></pre>
                        </div>
                    </section>
                </section>

                <section>
                    <section>
                        <h1>Routing</h1>
                    </section>

                    <section>
                        <h2>ng-view</h2>
                        <pre><code contenteditable>

    &lt;html ng-app="HackerApp"&gt;
        ...
        &lt;div ng-view&gt;&lt;/div&gt;
    &lt;/html&gt;

                        </code></pre>
                    </section>

                    <section>
                        <h2>The Router</h2>
                        <pre><code contenteditable>

// Configure routes
HA.config(function($routeProvider, $locationProvider) {
    $routeProvider.
        when('/s/', {controller: SHCtrl, templateUrl: '/static/sh.html'}).
        when('/a/', {controller: AHCtrl, templateUrl: '/static/ah.html'}).
        otherwise({redirectTo: '/'});

    // Set HTML5 Mode for routes
    $locationProvider.html5Mode(true);
});

                        </code></pre>
                    </section>

                </section>

                <!-- Gotchas -->
                <section>
                    <section>
                        <h1>Gotchas</h1>
                        <h3>(Or: things you wish they told you)</h3>
                    </section>

                    <section>
                        <h2>$resource</h2>
                        <p>Distributed separately</p>
                    </section>

                    <section>
                        <h2>$cookies</h2>
                        <p>Also distributed separately</p>
                    </section>

                    <section>
                        <h2>Therefore</h2>
                        <pre><code contenteditable>

&lt;script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.5/angular.js"&gt;&lt;/script&gt;
&lt;script src="http://code.angularjs.org/angular-resource-1.0.5.min.js"&gt;&lt;/script&gt;
&lt;script src="http://code.angularjs.org/1.0.5/angular-cookies-1.0.5.min.js"&gt;&lt;/script&gt;

                        </code></pre>
                        <img class="fragment" src="http://bfolder.ru/_ph/14/1/788301072.jpg" /> 
                    </section>

                    <section>
                        <h2>AngularJS is friendly</h2>
                        <p>But it chooses its friends carefully</p>
                    </section>
                </section>
                
                <section>
                  <section>
                    <h2>Waarom handig?</h2>
                    <div>
                      <ul>
                        <li>Meer logica naar de client</li>
                        <li>Geeft een betere response naar de gebruiker</li>
                        <li>Minder load op de server</li>
                        <li>Er komen steeds meer apps</li>
                        <li>Apps en web pagina's kunnen de zelfde backend API gebruiken</li>
                      </ul>
                      
                    </div>
                  </section>
                  <section>
                    <h2>Vraag hoevel % code PHP / Javascript</h2>
                    <div>
                      <p>In 2010?</p>
                      <p>In 2013?</p>
                      <p>In 2015?</p>
                    </div>
                    
                  </section>
                </section>
                
                <section>
                  <section>
                    <h2>Hoe beide te gebruiken?</h2>
                      <p>Voeg AngulerJS toe aan je twig template</p>
                       
                      <pre><code contenteditable>{% block foot_script %}
  {% if app.debug %}
    &lt;script type="text/javascript" src="{{ asset('bundles/demo/js/angular/angular.js') }}">&lt;/script>
    &lt;script type="text/javascript" src="{{ asset('bundles/demo/js/angular/angular-resource.js') }}">&lt;/script>
    &lt;script type="text/javascript" src="{{ asset('bundles/demo/js/angular/angular-ui.js') }}">&lt;/script>
  {% else %}
    {%- javascripts
      '@DemoBundle/Resources/public/js/angular/angular.min.js'
      '@DemoBundle/Resources/public/js/angular/angular-resource.min.js'
      '@DemoBundle/Resources/public/js/angular/angular-ui.min.js'
    %}
      &lt;script type="text/javascript" src="{{ asset_url }}">&lt;/script>
    {% endjavascripts %}
  {% endif %}
&lt;script type="text/javascript" src="{{ asset('bundles/fosjsrouting/js/router.js') }}">&lt;/script>
&lt;script type="text/javascript" src="{{ path('fos_js_routing_js', {"callback": "fos.Router.setData"}) }}">&lt;/script>
{% endblock %}</code></pre>
                      <p>Let op! In dev mode gebruik niet de minified versie. Dat debugt niet echt handig in Javascript</p>
                  </section>
                  <section>
                    <h2>Twig &amp; AngularJS templates</h2>
                    <div>
                      <p>Aangezien zowel AngularJS als Twig <strong>{{ }}</strong> gebruikt voor variable.</p>
                      <p>Moet er één worden aangepast.</p>
                      <p>Handigst is AngularJS op de volgende manier:</p>
                      
                             <pre><code contenteditable>
var DemoAppModule = angular.module('DemoApp', ['models']).
                config(function($interpolateProvider) {
        $interpolateProvider.startSymbol('&lt;[');
        $interpolateProvider.endSymbol('&gt;');
    });
                        </code></pre>
                      <p>
                    </div>
                  </section>
                </section>
                <section>
                  <section>
                  <h2>FOSRestBundle</h2>
                  <div>
                    <p>Met de hulp van deze bundle krijg je data die normaal naar twig gaat eenvoudig terug als json response</p>
<pre><code contenteditable>
    public function booksAction($name)
    {
      $view = View::create(array('books' => array("Book $name 1", "Book $name 2"), 'name' => $name));
      
      $view->setTemplate('AcmeDemoBundle:Demo:hello.html.twig');
      $handler = $this->get('fos_rest.view_handler');
      
      return $handler->handle($view);
    }
</code></pre>
                    
                    <p>Geeft voor app_dev.php/demo/books/Iwan?_format=json </p>
                    <pre><code contenteditable>
{"books":["Book Iwan 1","Book Iwan 2"],"name":"Iwan"}
</code></pre>
                  </div>
                  </section>
                </section>
                
                <section>
                  <h1>Vragen</h1>
                  
                  <p style="margin-top:400px">
                    Credits for the slides: Vojta Jína, Miško Hevery, Igor Minar, Patrick Aljord.
                  </p>
                </section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>
        <script src="js/angular.min.js"></script>
        
        <script>
          var demoAppModule = angular.module('demoApp', [],
            function ($interpolateProvider) {
              $interpolateProvider.startSymbol('<[');
              $interpolateProvider.endSymbol(']>');
            }
          );
        </script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
